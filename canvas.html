<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Canvas Example</title>
<style type="text/css">
	canvas{
		border: 1px solid black;

	}
</style>
</head>
<body>
	<canvas id="myCanvas" width="300" height="500">
	</canvas>
	<br> 
	<h3>Color Picker </h3>
	<input type="color" id="colorPicker" onchange="selectColor()" value = "#ff0000">	

	<script>
		var c = document.getElementById("myCanvas");
		var ctx = c.getContext("2d");
		// c.width = window.innerWidth * 0.8;
		// c.height = window.innerHeight * 0.8;
		var isMouseDown = false;
		var arcSize = 5;
		var x = 100
		var y = 75
		var r = 10
		var color = "red";
		var windowWidth = window.innerWidth * 0.8;
		var windowHeight = window.innerHeight * 0.8;

		c.width = 0.8 * windowWidth;
		c.height = 0.8 * windowHeight;
		// var w = window.width
		// var h = window.height 
		// c.height = c.width * heightRatio;
		// draw();

		window.addEventListener('keydown', function (e) {
			console.log(e.keyCode);
			if (e.keyCode === 66){
			color = "blue";}
			if (e.keyCode === 71){
			color = "green";}
			if (e.keyCode === 82){
			color = "red";}
			if (e.keyCode === 89){
			color = "yellow";}	
			if (e.keyCode === 32){
			ctx.clearRect(0,0,c.width,c.height);}	
			if (e.keyCode === 38){
			arcSize += 1;}
			if (e.keyCode == 40 && arcSize > 1){
			arcSize -= 1;
			}	
			e.preventDefault();
			// console.log(arcSize);			

		})


		function draw(x, y, r, color){
			ctx.beginPath();
			ctx.arc(x, y, r, 0, 2 * Math.PI);
			ctx.fillStyle = color;
			ctx.fill();
		}	

	// function clearCanvas(){
	// 	windowWidth = window.outerWidth;
	// 	windowHeight = window.outerHeight;
	// 	//console.log(windowWidth);
	// 	//console.log(windowHeight);
	// 	c.width = 0.8 * windowWidth;
	// 	c.height = 0.8 * windowHeight;
	// 	//console.log(c.width);
	// 	//console.log(c.height);
	// }

		function mouseDown(e){
			isMouseDown = true;
			e.preventDefault();
		}

		function mouseUp(e){
			isMouseDown = false;
			e.preventDefault();
		}

		function mouseMove(e){
			if (!isMouseDown){
				return;
		}
		var rect = c.getBoundingClientRect();
			draw(e.clientX - rect.left, e.clientY - rect.top, arcSize, color);	
		}

	function touchMove(e){
			if (!isMouseDown){
				return;
		}
		var rect = c.getBoundingClientRect();
			draw(e.touches[0].clientX - rect.left, e.touches[0].clientY - rect.top, arcSize, color); 
		e.preventDefault();
	}	

	
	function selectColor(){
		color = document.getElementById("colorPicker").value
	}

	window.addEventListener("mousedown", mouseDown);
	window.addEventListener("touchstart", mouseDown);
	window.addEventListener("mouseup", mouseUp);
	window.addEventListener("touchend", mouseUp);
	window.addEventListener("mousemove", mouseMove);
	window.addEventListener("touchmove", touchMove);

	window.addEventListener("resize",function(e){
  	ctx.clearRect(0,0,c.width,c.height)
	})

	</script>

</body>
</html>
	